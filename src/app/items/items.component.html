
<div class="container">
	<div class="row">
		<div class="col-md-12">
		
            <div class="input-group">
		      <input type="text" class="form-control" placeholder="Search for...">
		      <span class="input-group-btn">
		        <button class="btn btn-success" type="button" (click)="addItem()"><i class="fa fa-plus" aria-hidden="true"></i></button>
		      </span>
		    </div><!-- /input-group -->
        </div>


		
	</div>
	<div class="row">
		<div class="col-md-12" *ngIf="items">
			<table class="table">
  			<thead>
			      <tr>
			        <th></th>
			        <th>IT</th>
			        <th>DE</th>
			        <th>PL</th>
			        <th></th>
			      </tr>
			</thead>
				<tbody *ngFor ="let item of items">
					<tr>
						<td colspan="5"><small> Id: {{item?._id}}</small></td>
					</tr>
					<tr>
						<td rowspan="2"><img src="{{item.pic}}" class="pic"/></td>
						<td class="span3"><strong>{{item?.name?.it?.main}}</strong></td>
						<td class="span3"><strong>{{item?.name?.de?.main}}</strong></td>
						<td class="span3"><strong>{{item?.name?.pl?.main}}</strong></td>
						<td class="span3">
							<button type="button" class="btn btn-danger btn-sm" data-toggle="modal" data-target="#deleteModal" (click)="selectId(item._id)">
							  <i class="fa fa-trash right" aria-hidden="true"></i>
							</button>
						 </td>
					</tr>
					<tr>
						<td><em>{{item?.name?.it?.spec}}</em></td>
						<td><em>{{item?.name?.de?.spec}}</em></td>
						<td><em>{{item?.name?.pl?.spec}}</em></td>
						<td>
							<button type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#editModal" (click)="selectId(item._id)">
							  <i class="fa fa-pencil right" aria-hidden="true"></i>
							</button>
						</td>
					</tr>
				</tbody>
		</table>
		<p>Selector: {{$item.id}}</p>	
		</div>
	</div>
</div>



<!-- Edit Modal -->
<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="Edit Item">
  <div class="modal-dialog modal-lg" role="document">
  	<form (ngSubmit)="updateItem()">
	  	<div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	        <h4 class="modal-title" id="myModalLabel">Edit Item {{$item.id}}</h4>
	      </div>
	      <div class="modal-body">
	      	<div class="form-group">
	      		<label for="Image url">Img url</label>
	      		<input type="text" class="form-control" name="pic-url" [(ngModel)] = "$item.data.pic">
	      	</div>
		    <div class="sidebar-category">
		        <ul class="nav nav-tabs">
		          <li [class.active]="panelshow == 'DE'"> <a (click)="setPanel('DE')">DE</a></li>
		          <li [class.active]="panelshow == 'PL'"> <a (click)="setPanel('PL')">PL</a></li>
		          <li [class.active]="panelshow == 'IT'"> <a (click)="setPanel('IT')">IT</a></li>
		        </ul>
		        <div *ngIf="panelshow == 'DE'"> 
					<div class="form-group">
	      				<label for="Image url">Main name</label>
	      				<input type="text" class="form-control" name="de-main" [(ngModel)] = "$item.data.name.de.main">
	      			</div>
	      			<div class="form-group">
	      				<label for="Image url">Spec</label>
	      				<input type="text" class="form-control" name="de-spec" [(ngModel)] = "$item.data.name.de.spec">
	      			</div>
				</div>
				<div *ngIf="panelshow == 'PL'"> 
					<div class="form-group">
	      				<label for="Image url">Main name</label>
	      				<input type="text" class="form-control" name="pl-main" [(ngModel)] = "$item.data.name.pl.main">
	      			</div>
	      			<div class="form-group">
	      				<label for="Image url">Spec</label>
	      				<input type="text" class="form-control" name="pl-spec" [(ngModel)] = "$item.data.name.pl.spec">
	      			</div>
				</div>
				<div *ngIf="panelshow == 'IT'"> 
					<div class="form-group">
	      				<label for="Image url">Main name</label>
	      				<input type="text" class="form-control" name="it-main" [(ngModel)] = "$item.data.name.it.main">
	      			</div>
	      			<div class="form-group">
	      				<label for="Image url">Spec</label>
	      				<input type="text" class="form-control" name="it-spec" [(ngModel)] = "$item.data.name.it.spec">
	      			</div>
				</div>
		        <p>{{$item.data | json}}</p>
		     </div>
		   </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	        <button type="submit" class="btn btn-primary" >Save changes</button>
	      </div>
	    </div>
    </form>
  </div>
</div>

<!--DELETE Modal-->
<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="Delete Item">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Delete Item</h4>
      </div>
      <div class="modal-body">
        <h3 class="centered">Are you sure you want to delete this item?</h3>
        <div class="row">
        	<div class="col-md-12">{{$item.data | json}}</div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">No</button>
        <button type="button" class="btn btn-primary"  (click)="deleteItem($item.data)">Yes</button>
      </div>
    </div>
  </div>
</div>


